{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport { isNumeric } from 'rxjs/internal-compatibility';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/point.service\";\nimport * as i2 from \"../../services/svg.service\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"primeng/radiobutton\";\nimport * as i6 from \"primeng/inputtext\";\nimport * as i7 from \"primeng/button\";\nexport let FormComponent = /*#__PURE__*/(() => {\n  class FormComponent {\n    constructor(service, svgService, primengConfig) {\n      this.service = service;\n      this.svgService = svgService;\n      this.primengConfig = primengConfig;\n      this.message = [];\n      this.primengConfig.ripple = true;\n    } //инициализации формы\n\n\n    ngOnInit() {\n      this.point = new FormGroup({\n        x: new FormControl(null, null),\n        y: new FormControl(null, null),\n        r: new FormControl(null, null),\n        owner: new FormControl(localStorage.getItem('userName'), null)\n      });\n    } //передача радиуса свг компоненту через сервис\n\n\n    rChanger() {\n      this.svgService.r.next(this.point.getRawValue().r);\n    } //отправка точки и обнуление радиуса\n\n\n    sendPoint() {\n      if (this.validation()) {\n        this.point.get('y').setValue(this.point.getRawValue().y.replace(',', '.'));\n        this.service.doPost(this.point.value);\n        this.svgService.r.next(null);\n        this.point = new FormGroup({\n          x: new FormControl(null, null),\n          y: new FormControl(null, null),\n          r: new FormControl(null, null),\n          owner: new FormControl(localStorage.getItem('userName'), null)\n        });\n      }\n    } //Валидация данных\n\n\n    validation() {\n      let x = this.point.getRawValue().x;\n      let y = this.point.getRawValue().y;\n      let r = this.point.getRawValue().r;\n      let forRequest = true;\n\n      if (x == null) {\n        this.message.push({\n          severity: 'error',\n          summary: 'error',\n          detail: 'X is undefined'\n        });\n        forRequest = false;\n      }\n\n      if (y == null) {\n        this.message.push({\n          severity: 'error',\n          summary: 'error',\n          detail: 'Y is undefined'\n        });\n        forRequest = false;\n      } else {\n        if (!isNumeric(y.replace(',', '.'))) {\n          forRequest = false;\n          this.message.push({\n            severity: 'error',\n            summary: 'error',\n            detail: 'Y is incorrect'\n          });\n        }\n      }\n\n      if (r == null) {\n        this.message.push({\n          severity: 'error',\n          summary: 'error',\n          detail: 'Radius is undefined'\n        });\n        forRequest = false;\n      }\n\n      this.service.message.next(this.message);\n      this.message = [];\n      return forRequest;\n    }\n\n  }\n\n  FormComponent.ɵfac = function FormComponent_Factory(t) {\n    return new (t || FormComponent)(i0.ɵɵdirectiveInject(i1.PointService), i0.ɵɵdirectiveInject(i2.SvgService), i0.ɵɵdirectiveInject(i3.PrimeNGConfig));\n  };\n\n  FormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormComponent,\n    selectors: [[\"app-form\"]],\n    decls: 33,\n    vars: 1,\n    consts: [[\"id\", \"block-form\", 1, \"form-block\"], [3, \"formGroup\"], [1, \"coordinate-x\"], [\"formControlName\", \"x\", \"value\", \"-3\", \"label\", \"-3\", 1, \"radioButton\"], [\"formControlName\", \"x\", \"value\", \"-2\", \"label\", \"-2\", 1, \"radioButton\"], [\"formControlName\", \"x\", \"value\", \"-1\", \"label\", \"-1\", 1, \"radioButton\"], [\"formControlName\", \"x\", \"value\", \"0\", \"label\", \"0\", 1, \"radioButton\"], [\"formControlName\", \"x\", \"value\", \"1\", \"label\", \"1\", 1, \"radioButton\"], [\"formControlName\", \"x\", \"value\", \"2\", \"label\", \"2\", 1, \"radioButton\"], [\"formControlName\", \"x\", \"value\", \"3\", \"label\", \"3\", 1, \"radioButton\"], [\"formControlName\", \"x\", \"value\", \"4\", \"label\", \"4\", 1, \"radioButton\"], [\"formControlName\", \"x\", \"value\", \"5\", \"label\", \"5\", 1, \"radioButton\"], [1, \"coordinate-y\"], [\"formControlName\", \"y\", \"placeholder\", \"\\u043E\\u0442 -5 \\u0434\\u043E 5\", \"id\", \"y-input\", \"type\", \"text\", \"pInputText\", \"\"], [1, \"coordinate-r\"], [\"formControlName\", \"r\", \"value\", \"1\", \"label\", \"1\", 1, \"radioButton\", 3, \"onClick\"], [\"formControlName\", \"r\", \"value\", \"2\", \"label\", \"2\", 1, \"radioButton\", 3, \"onClick\"], [\"formControlName\", \"r\", \"value\", \"3\", \"label\", \"3\", 1, \"radioButton\", 3, \"onClick\"], [\"formControlName\", \"r\", \"value\", \"4\", \"label\", \"4\", 1, \"radioButton\", 3, \"onClick\"], [\"formControlName\", \"r\", \"value\", \"5\", \"label\", \"5\", 1, \"radioButton\", 3, \"onClick\"], [\"type\", \"submit\", \"id\", \"ssss\", \"label\", \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\", 3, \"click\"]],\n    template: function FormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵelement(2, \"br\");\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"label\");\n        i0.ɵɵtext(5, \"\\u041A\\u043E\\u043E\\u0440\\u0434\\u0438\\u043D\\u0430\\u0442\\u0430 X:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"br\")(7, \"p-radioButton\", 3)(8, \"p-radioButton\", 4)(9, \"p-radioButton\", 5)(10, \"p-radioButton\", 6)(11, \"p-radioButton\", 7)(12, \"p-radioButton\", 8)(13, \"p-radioButton\", 9)(14, \"p-radioButton\", 10)(15, \"p-radioButton\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"br\");\n        i0.ɵɵelementStart(17, \"div\", 12)(18, \"label\");\n        i0.ɵɵtext(19, \"\\u041A\\u043E\\u043E\\u0440\\u0434\\u0438\\u043D\\u0430\\u0442\\u0430 Y: \");\n        i0.ɵɵelement(20, \"input\", 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(21, \"br\");\n        i0.ɵɵelementStart(22, \"div\", 14)(23, \"label\");\n        i0.ɵɵtext(24, \"\\u0420\\u0430\\u0434\\u0438\\u0443\\u0441 R: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"br\");\n        i0.ɵɵelementStart(26, \"p-radioButton\", 15);\n        i0.ɵɵlistener(\"onClick\", function FormComponent_Template_p_radioButton_onClick_26_listener() {\n          return ctx.rChanger();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"p-radioButton\", 16);\n        i0.ɵɵlistener(\"onClick\", function FormComponent_Template_p_radioButton_onClick_27_listener() {\n          return ctx.rChanger();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"p-radioButton\", 17);\n        i0.ɵɵlistener(\"onClick\", function FormComponent_Template_p_radioButton_onClick_28_listener() {\n          return ctx.rChanger();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"p-radioButton\", 18);\n        i0.ɵɵlistener(\"onClick\", function FormComponent_Template_p_radioButton_onClick_29_listener() {\n          return ctx.rChanger();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"p-radioButton\", 19);\n        i0.ɵɵlistener(\"onClick\", function FormComponent_Template_p_radioButton_onClick_30_listener() {\n          return ctx.rChanger();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(31, \"br\");\n        i0.ɵɵelementStart(32, \"p-button\", 20);\n        i0.ɵɵlistener(\"click\", function FormComponent_Template_p_button_click_32_listener() {\n          return ctx.sendPoint();\n        });\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.point);\n      }\n    },\n    directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i5.RadioButton, i4.NgControlStatus, i4.FormControlName, i4.DefaultValueAccessor, i6.InputText, i7.Button],\n    styles: [\".radioButton[_ngcontent-%COMP%]{margin-right:2%;border-radius:20%;border-color:#6495ed}.radioButton[_ngcontent-%COMP%]:hover{border-style:solid;border-color:#6495ed;border-radius:20%;transition:60ms;background-color:#6495ed}p-button[_ngcontent-%COMP%]{margin-right:20px}.table[_ngcontent-%COMP%]{margin-top:15px;background-color:#45454599;border-radius:30px;display:flex;justify-content:center}.table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-radius:30px;color:#fff}\"]\n  });\n  return FormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}